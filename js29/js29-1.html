<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>할 일 목록</title>
    <script src="https://unpkg.com/typeit@8.7.1/dist/index.umd.js"></script>
    <style>
      @keyframes moveText {
        0% {
          transform: translateX(0);
        }
        50% {
          transform: translateX(100px);
        }
        100% {
          transform: translateX(0);
        }
      }
    </style>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        /* DOM 구성*/
        const h1 = document.createElement("h1");
        const input = document.createElement("input");
        const but = document.createElement("button");
        const but2 = document.createElement("button");
        const ctr = document.createElement("div");

        /* h1 애니메이션 */

        new TypeIt(h1)
          .pause(3000) //1초 기다림
          .delete(4, { delay: 1000 }) // 1초 기다렸다 4글자 삭제
          .type(" 민지의 할 일 목록 ") // 타이핑
          .go(); // 실행

        /* // h1 애니메이션 */

        document.body.append(h1, input, ctr, but, but2);

        h1.innerHTML = "할 일 목록";
        but.innerHTML = "추가";
        but2.innerHTML = "모두삭제";

       
        let arr = localStorage.getItem('arr1')?.split(',')?? []
        let ctt = "";

        input.addEventListener("keyup", (e) => {
          ctt = e.currentTarget.value;
        });

        /* 추가 */
        but.addEventListener("click", (e) => {
          if (ctt) {
            arr.push(ctt);
            tod.innerHTML = arr;
            ctt = "";
            input.value = "";
            localStorage.setItem("arr1", arr);
          } else {
            alert("할 일을 적어주세요");
          }
          
        });

        /* 모두 삭제 */
        but2.addEventListener("click", () => {
          arr.length = 0; //arr = []
          tod.innerHTML = arr;
          ctt = ""; // 값을추가 하면 글이 사라지지 않지만 더이상 추가가 되지 않음
          input.value = ""; // 글이 사라진다.   같이쓰기!
          localStorage.setItem("arr1", arr);
        });
        

      });
    </script>
  </head>
  <body></body>
</html>
