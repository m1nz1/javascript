<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>배열 CRUD(localStorage)</title>
    <style>
      button {
        margin: 5px;
      }
    </style>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const p1 = document.createElement("p");
        const p2 = document.createElement("p");
        const input = document.createElement("input");
        const add = document.createElement("button");
        const pop = document.createElement("button");
        const del = document.createElement("button");
        const fix = document.createElement("button");
        const sort = document.createElement("button");

        document.body.append(input, add, pop, fix, sort, del, p1, p2);
        add.innerHTML = "추가";
        pop.innerHTML = "제거";
        fix.innerHTML = "중복제거";
        sort.innerHTML = "정렬";
        del.innerHTML = "요소모두삭제";

        let arr = [];
        let vin = "";
        

        //입력한 글을 추가하면 보여주기
        input.addEventListener("keyup", (e) => {
          vin = e.currentTarget.value;
        });

        add.addEventListener("click", (e) => {
          if (vin) {
            arr.push(vin);
            p1.innerHTML = vin + " 의 값을 추가 하였습니다."; // 추가한 값을 보여줌.
            p2.innerHTML = arr; //추가 한 값을 배열로 담음
            vin = ""; // 값을추가 하면 글이 사라지지 않지만 더이상 추가가 되지 않음
            input.value = ""; // 글이 사라진다.   같이쓰기!
          } else {
            p1.innerHTML = "<em>값을 넣으세요!!<em>"; //텅텅 비었을때 뜬다.
          }
        });

        pop.addEventListener("click", (e) => {
          const pp = arr.pop(vin);
          p1.innerHTML = pp
            ? `${pp} 최근 값을 제거 하였습니다.` //제거한 값을 보여줌
            : `배열이 비었습니다.`;  //모두제거하고 제거할 배열이 없을때 보여줌.    pp ? `제거했다` : `제거할 배열이 없다`
          p2.innerHTML = arr;

          vin = ""; // 값을추가 하면 글이 사라지지 않지만 더이상 추가가 되지 않음
          input.value = ""; // 글이 사라진다.   같이쓰기!
        });

        fix.addEventListener('click',(e)=>{
            const arrs = new Set(arr)
            arr = [...arrs]     // Array.from(arrs)
            p1.innerHTML = '중복 제거 완료'
            p2.innerHTML =  arr
            vin = ""; // 값을추가 하면 글이 사라지지 않지만 더이상 추가가 되지 않음
            input.value = ""; // 글이 사라진다.   같이쓰기!
        })
        
        sort.addEventListener('click',(e)=>{
            arr.sort((a,b)=> a - b)
            p1.innerHTML = '배열 정렬 완료'
            p2.innerHTML =  arr
            vin = ""; // 값을추가 하면 글이 사라지지 않지만 더이상 추가가 되지 않음
            input.value = ""; // 글이 사라진다.   같이쓰기!
        })

        del.addEventListener('click',()=>{
            arr.length = 0 //arr = []
            p1.innerHTML = '모두 삭제됨'
            p2.innerHTML =  arr
            vin = ""; // 값을추가 하면 글이 사라지지 않지만 더이상 추가가 되지 않음
            input.value = ""; // 글이 사라진다.   같이쓰기!
        })
      });
    </script>
  </head>
  <body></body>
</html>
